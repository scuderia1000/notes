(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,i=n(1),r=n.n(i),c=n(10),a=n.n(c),s=(n(15),n(16),n(3)),l=n(6),u=n(2),d=(n(17),n(0)),h={noteId:"",text:"",top:120,left:30,order:0,width:200,height:200,minWidth:50,minHeight:50},f=i.forwardRef((function(e,t){var n=e.text,o=e.left,i=e.top,r=e.zIndex,c=e.onTextChange,a=e.onMouseDown,s=e.width,l=e.height,u=e.onDblClick,h=e.isEditMode;return Object(d.jsx)("textarea",{ref:t,className:"note",style:{left:o,top:i,zIndex:r,width:s,height:l},value:n,readOnly:!h,onMouseDown:a,onChange:c,onDoubleClick:u})}));n(19);!function(e){e.XS="XS",e.S="S",e.M="M",e.L="L"}(o||(o={}));var v="button",j=function(e){var t=e.onClick,n=e.icon,i=e.className,r=void 0===i?"":i,c=e.size,a=void 0===c?o.M:c;return Object(d.jsx)("div",{className:"".concat(v," ").concat(r," ").concat(v,"_size-").concat(a),onClick:t,children:n})},m=(n(20),function(){return Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(d.jsx)("rect",{x:"5",y:"11",width:"14",height:"2",fill:"currentColor"}),Object(d.jsx)("rect",{x:"13",y:"5",width:"14",height:"2",transform:"rotate(90 13 5)",fill:"currentColor"})]})}),g=function(){return Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})})},p=function(e){var t=e.onClick;return Object(d.jsx)("div",{className:"button__add",children:Object(d.jsx)(j,{onClick:t,icon:Object(d.jsx)(m,{})})})},b=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())},O=n(4),x=n(5),I=n(8),w=n(7),N=function(e){return function(t){Object(I.a)(o,t);var n=Object(w.a)(o);function o(){var e;Object(O.a)(this,o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).replaceItem=function(e,t){var n,o=null!==(n=localStorage.getItem(e))&&void 0!==n?n:"",i=JSON.parse(o),r=Object(u.a)(Object(u.a)({},i),t);localStorage.setItem(e,JSON.stringify(r))},e.updateItemsProp=function(t,n){Object.keys(t).forEach((function(o){var i=t[o];e.replaceItem(o,Object(s.a)({},n,i[n]))}))},e.saveItem=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.deleteItem=function(e){localStorage.removeItem(e)},e.getAllNotes=function(){return Object.keys(localStorage).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t,JSON.parse(localStorage[t])))}),{})},e.clearAll=function(){return localStorage.clear()},e}return Object(x.a)(o,[{key:"render",value:function(){return Object(d.jsx)(e,Object(u.a)(Object(u.a)({},this.props),{},{storageReplaceItem:this.replaceItem,storageSaveItem:this.saveItem,storageDeleteItem:this.deleteItem,storageUpdateItemsProp:this.updateItemsProp,storageGetAll:this.getAllNotes,storageClearAll:this.clearAll}))}}]),o}(r.a.Component)},M=(n(21),n(22),N(function(e){Object(I.a)(n,e);var t=Object(w.a)(n);function n(e){var o;Object(O.a)(this,n),(o=t.call(this,e)).noteRef=void 0,o.resizeRef=void 0,o.onMouseDown=function(e){var t=o.props,n=t.setSelectedNoteId,i=t.noteId,r=o.noteRef.current;if(r){var c=r.getBoundingClientRect();o.setState({mouseNoteOffset:{x:e.pageX-c.left,y:e.pageY-c.top},zIndex:999,isResizeShown:!0}),document.addEventListener("mousemove",o.onMouseMove),document.addEventListener("mouseup",o.onMouseUp),n(i)}},o.onMouseMove=function(e){var t=o.state.mouseNoteOffset,n=o.noteRef.current;if(n){var i=n.getBoundingClientRect(),r=t.x,c=t.y,a=e.pageX-r,s=e.pageY-c;s<0?s=0:s+i.height>window.innerHeight&&(s=window.innerHeight-i.height),o.setState({position:{left:a,top:s}}),e.preventDefault()}},o.onMouseUp=function(){document.removeEventListener("mousemove",o.onMouseMove),document.removeEventListener("mouseup",o.onMouseUp);var e=o.props,t=e.storageReplaceItem,n=e.moveNoteToFront,i=e.noteId;if(!o.deleteNoteIfNeeded()){var r=o.state.position;n(i),t&&t(i,r),o.setState({zIndex:1})}},o.onTextChange=function(e){var t=o.props,n=t.storageReplaceItem,i=t.noteId,r=e.currentTarget.value;o.setState({text:r}),n&&n(i,{text:r})},o.deleteNoteIfNeeded=function(){var e=o.props,t=e.noteId,n=e.deleteNote,i=o.noteRef.current,r=document.getElementsByClassName("trash")[0];return!(!i||!r)&&(!!function(e,t){var n=e.left,o=e.left+e.width,i=e.top,r=e.top+e.height,c=t.left,a=t.left+t.width,s=t.top,l=t.top+t.height;return!(n>a||o<c||i>l||r<s)}(i.getBoundingClientRect(),r.getBoundingClientRect())&&(n(t),!0))},o.onResizeMouseDown=function(e){o.setState({mouseNoteOffset:{x:e.pageX,y:e.pageY},zIndex:999}),document.addEventListener("mousemove",o.onResizeMouseMove),document.addEventListener("mouseup",o.onResizeMouseUp)},o.onResizeMouseMove=function(e){var t=o.state,n=t.mouseNoteOffset,i=t.initialWidth,r=t.initialHeight,c=n.x,a=n.y,s=i+(e.pageX-c),l=r+(e.pageY-a);h.minWidth&&s<h.minWidth&&(s=h.minWidth),h.minHeight&&l<h.minHeight&&(l=h.minHeight),o.setState({width:s,height:l}),e.preventDefault()},o.onResizeMouseUp=function(){var e=o.props,t=e.storageReplaceItem,n=e.noteId,i=o.state,r=i.width,c=i.height;document.removeEventListener("mousemove",o.onResizeMouseMove),document.removeEventListener("mouseup",o.onResizeMouseUp),o.setState({zIndex:1,initialWidth:r,initialHeight:c}),t&&t(n,{width:r,height:c})},o.onDblClick=function(){o.setState({isEditMode:!0})};var r=e.note,c=r.left,a=r.top;return o.state={zIndex:1,text:r.text,position:{left:c,top:a},mouseNoteOffset:{x:0,y:0},observer:void 0,isResizeShown:!1,width:r.width,height:r.height,initialWidth:r.width,initialHeight:r.height,isEditMode:!1},o.noteRef=i.createRef(),o.resizeRef=i.createRef(),o}return Object(x.a)(n,[{key:"render",value:function(){var e=this.props.isSelected,t=this.state,n=t.position,o=t.zIndex,i=t.text,r=t.width,c=t.height,a=t.isEditMode;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"resize",ref:this.resizeRef,style:{left:n.left-10,top:n.top-10,opacity:e?1:0,width:r+20,height:c+30,zIndex:o},children:Object(d.jsx)("div",{className:"resize-corner",onMouseDown:this.onResizeMouseDown})}),Object(d.jsx)(f,{text:i,left:n.left,top:n.top,ref:this.noteRef,zIndex:o,width:r,height:c,isEditMode:a,onTextChange:this.onTextChange,onMouseDown:this.onMouseDown,onDblClick:this.onDblClick})]})}}]),n}(i.Component))),S=function(e){var t=e.items,n=e.moveNoteToFront,o=e.deleteNote,r=Object(i.useState)(""),c=Object(l.a)(r,2),a=c[0],s=c[1],u=Object(i.useCallback)((function(e){var t=e.target;if(t){var n=t.className;["note","resize-corner","resize"].includes(n)||s("")}}),[s]);return Object(i.useEffect)((function(){return document.addEventListener("click",u),function(){document.removeEventListener("click",u)}}),[]),Object(d.jsx)(d.Fragment,{children:Object.keys(t).map((function(e){return Object(d.jsx)(M,{note:t[e],noteId:e,moveNoteToFront:n,deleteNote:o,isSelected:a===e,setSelectedNoteId:s},e)}))})},z=function(e,t){var n=Object.keys(t),o=0;n.forEach((function(i,r){i===e&&(o=r,t[i].order=n.length-1),r>o&&(t[i].order=r-1)}))},C=function(e){var t=e.storageUpdateItemsProp,n=e.storageSaveItem,r=e.storageDeleteItem,c=e.storageGetAll,a=e.storageClearAll,f=Object(i.useState)({}),v=Object(l.a)(f,2),m=v[0],O=v[1],x=Object(i.useCallback)((function(){var e,t=Object.keys(m),o=(e=t.length,Object(u.a)(Object(u.a)({},h),{},{top:h.top+20*e,left:h.left+20*e,noteId:b(),order:e}));O(Object(u.a)(Object(u.a)({},m),{},Object(s.a)({},o.noteId,o))),n(o.noteId,o)}),[m,n]),I=Object(i.useCallback)((function(e){var n=Object(u.a)({},m);z(e,n);var o=Object(u.a)({},n[e]);delete n[e];var i=Object(u.a)(Object(u.a)({},n),{},Object(s.a)({},e,o));O(i),t(i,"order")}),[m,t]),w=Object(i.useCallback)((function(e){var t=Object(u.a)({},m);z(e,t),delete t[e];var n=Object(u.a)({},t);O(n),r(e)}),[m,r]);return Object(i.useEffect)((function(){var e=c(),t=Object.keys(e).sort((function(t,n){return e[t].order-e[n].order})).reduce((function(t,n){return Object(u.a)(Object(u.a)({},t),{},Object(s.a)({},n,e[n]))}),{});return O(t),function(){return a()}}),[]),Object(d.jsxs)("div",{className:"workspace",children:[Object(d.jsx)("header",{className:"header",children:"Sticky Notes"}),Object(d.jsx)(p,{onClick:x}),Object(d.jsx)(S,{items:m,moveNoteToFront:I,deleteNote:w}),Object(d.jsx)("div",{className:"trash",children:Object(d.jsx)(j,{className:"delete-button",icon:Object(d.jsx)(g,{}),size:o.L})})]})};C.defaultProps={storageUpdateItemsProp:function(){},storageSaveItem:function(){},storageDeleteItem:function(){},storageGetAll:function(){return{}},storageClearAll:function(){}};var R=N(C);var k=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(R,{})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.d97b1a7d.chunk.js.map
(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,c=n(1),r=n.n(c),a=n(9),s=n.n(a),i=(n(15),n(16),n(3)),u=n(10),l=n(2),f=(n(17),n(0)),j={noteId:"",text:"",top:120,left:30,order:0},d=r.a.forwardRef((function(e,t){var n=e.text,o=e.left,c=e.top,r=e.zIndex,a=e.onTextChange,s=e.onMouseDown,i=e.onMouseUp;return Object(f.jsx)("div",{ref:t,className:"note",style:{left:o,top:c,zIndex:r},onMouseDown:s,onMouseUp:i,children:Object(f.jsx)("textarea",{value:n,onChange:a})})}));n(19);!function(e){e.XS="XS",e.S="S",e.M="M",e.L="L"}(o||(o={}));var b="button",O=function(e){var t=e.onClick,n=e.icon,c=e.className,r=void 0===c?"":c,a=e.size,s=void 0===a?o.M:a;return Object(f.jsx)("div",{className:"".concat(b," ").concat(r," ").concat(b,"_size-").concat(s),onClick:t,children:n})},v=(n(20),function(){return Object(f.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("rect",{x:"5",y:"11",width:"14",height:"2",fill:"currentColor"}),Object(f.jsx)("rect",{x:"13",y:"5",width:"14",height:"2",transform:"rotate(90 13 5)",fill:"currentColor"})]})}),p=function(){return Object(f.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})})},h=function(e){var t=e.onClick;return Object(f.jsx)("div",{className:"button__add",children:Object(f.jsx)(O,{onClick:t,icon:Object(f.jsx)(v,{})})})},m=n(4),g=n(5),x=n(7),I=n(6),w=function(e){return function(t){Object(x.a)(o,t);var n=Object(I.a)(o);function o(){var e;Object(m.a)(this,o);for(var t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return(e=n.call.apply(n,[this].concat(c))).replaceItem=function(e,t){var n,o=null!==(n=localStorage.getItem(e))&&void 0!==n?n:"",c=JSON.parse(o),r=Object(l.a)(Object(l.a)({},c),t);localStorage.setItem(e,JSON.stringify(r))},e.updateItemsProp=function(t,n){Object.keys(t).forEach((function(o){var c=t[o];e.replaceItem(o,Object(i.a)({},n,c[n]))}))},e.saveItem=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.deleteItem=function(e){localStorage.removeItem(e)},e}return Object(g.a)(o,[{key:"render",value:function(){return Object(f.jsx)(e,Object(l.a)(Object(l.a)({},this.props),{},{storageReplaceItem:this.replaceItem,storageSaveItem:this.saveItem,storageDeleteItem:this.deleteItem,storageUpdateItemsProp:this.updateItemsProp}))}}]),o}(r.a.Component)},N=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},S=w(function(e){Object(x.a)(n,e);var t=Object(I.a)(n);function n(e){var o;Object(m.a)(this,n),(o=t.call(this,e)).noteRef=void 0,o.onMouseDown=function(e){var t=o.noteRef.current;if(t){var n=t.getBoundingClientRect();o.setState({mouseNoteOffset:{x:e.pageX-n.left,y:e.pageY-n.top},zIndex:999}),document.addEventListener("mousemove",o.onMouseMove)}},o.onMouseMove=function(e){var t=o.state.mouseNoteOffset,n=t.x,c=t.y,r=e.pageX-n,a=e.pageY-c;o.setState({position:{left:r,top:a}})},o.onMouseUp=function(){document.removeEventListener("mousemove",o.onMouseMove);var e=o.props,t=e.storageReplaceItem,n=e.moveNoteToFront,c=e.noteId;if(!o.deleteNoteIfNeeded()){var r=o.state.position;n(c),t&&t(c,r),o.setState({zIndex:1})}},o.onTextChange=function(e){var t=o.props,n=t.storageReplaceItem,c=t.noteId,r=e.currentTarget.value;o.setState({text:r}),n&&n(c,{text:r})},o.deleteNoteIfNeeded=function(){var e=o.props,t=e.noteId,n=e.deleteNote,c=o.noteRef.current,r=document.getElementsByClassName("trash")[0];return!(!c||!r)&&(!!function(e,t){var n=e.left,o=e.left+e.width,c=e.top,r=e.top+e.height,a=t.left,s=t.left+t.width,i=t.top,u=t.top+t.height;return!(n>s||o<a||c>u||r<i)}(c.getBoundingClientRect(),r.getBoundingClientRect())&&(n(t),!0))};var r=e.note,a=r.left,s=r.top;return o.state={zIndex:1,text:r.text,position:{left:a,top:s},mouseNoteOffset:{x:0,y:0}},o.noteRef=c.createRef(),o}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state,t=e.position,n=e.zIndex,o=e.text;return Object(f.jsx)(d,{text:o,left:t.left,top:t.top,ref:this.noteRef,zIndex:n,onTextChange:this.onTextChange,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp})}}]),n}(c.Component)),M=(n(21),function(e,t){var n=Object.keys(t),o=0;n.forEach((function(c,r){c===e&&(o=r,t[c].order=n.length-1),r>o&&(t[c].order=r-1)}))}),C=w((function(e){var t=e.storageUpdateItemsProp,n=e.storageSaveItem,r=e.storageDeleteItem,a=Object(c.useState)({}),s=Object(u.a)(a,2),d=s[0],b=s[1],v=Object(c.useCallback)((function(){var e,t=Object.keys(d),o=(e=t.length,Object(l.a)(Object(l.a)({},j),{},{top:j.top+20*e,left:j.left+20*e,noteId:N(),order:e}));b(Object(l.a)(Object(l.a)({},d),{},Object(i.a)({},o.noteId,o))),n&&n(o.noteId,o)}),[d,n]),m=Object(c.useCallback)((function(e){var n=Object(l.a)({},d);M(e,n);var o=Object(l.a)({},n[e]);delete n[e];var c=Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e,o));b(c),t&&t(c,"order")}),[d,t]),g=Object(c.useCallback)((function(e){var t=Object(l.a)({},d);M(e,t),delete t[e];var n=Object(l.a)({},t);b(n),r&&r(e)}),[d,r]),x=Object(c.useMemo)((function(){return Object.keys(d).map((function(e){return Object(f.jsx)(S,{note:d[e],noteId:e,moveNoteToFront:m,deleteNote:g},e)}))}),[d,m,g]);return Object(c.useEffect)((function(){var e=Object.keys(localStorage).reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},t,JSON.parse(localStorage[t])))}),{}),t=Object.keys(e).sort((function(t,n){return e[t].order-e[n].order})).reduce((function(t,n){return Object(l.a)(Object(l.a)({},t),{},Object(i.a)({},n,e[n]))}),{});return b(t),function(){localStorage.clear()}}),[]),Object(f.jsxs)("div",{className:"workspace",children:[Object(f.jsx)("header",{className:"header",children:"Sticky Notes"}),Object(f.jsx)(h,{onClick:v}),x,Object(f.jsx)("div",{className:"trash",children:Object(f.jsx)(O,{className:"delete-button",icon:Object(f.jsx)(p,{}),size:o.L})})]})}));var y=function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(C,{})})};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.3874641d.chunk.js.map
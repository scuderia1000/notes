(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,i=n(1),c=n.n(i),r=n(10),s=n.n(r),a=(n(15),n(16),n(3)),u=n(6),d=n(2),l=(n(17),n(0)),h={noteId:"",text:"",top:120,left:30,order:0,width:200,height:200,minWidth:50,minHeight:50},f=i.forwardRef((function(e,t){var n=e.text,o=e.left,i=e.top,c=e.zIndex,r=e.onTextChange,s=e.onMouseDown,a=e.width,u=e.height,d=e.onDblClick,h=e.isEditMode;return Object(l.jsx)("textarea",{ref:t,className:"note",style:{left:o,top:i,zIndex:c,width:a,height:u},value:n,readOnly:!h,onMouseDown:s,onChange:r,onDoubleClick:d})}));n(19);!function(e){e.XS="XS",e.S="S",e.M="M",e.L="L"}(o||(o={}));var j="button",v=function(e){var t=e.onClick,n=e.icon,i=e.className,c=void 0===i?"":i,r=e.size,s=void 0===r?o.M:r;return Object(l.jsx)("div",{className:"".concat(j," ").concat(c," ").concat(j,"_size-").concat(s),onClick:t,children:n})},m=(n(20),function(){return Object(l.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("rect",{x:"5",y:"11",width:"14",height:"2",fill:"currentColor"}),Object(l.jsx)("rect",{x:"13",y:"5",width:"14",height:"2",transform:"rotate(90 13 5)",fill:"currentColor"})]})}),b=function(){return Object(l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})})},g=function(e){var t=e.onClick;return Object(l.jsx)("div",{className:"button__add",children:Object(l.jsx)(v,{onClick:t,icon:Object(l.jsx)(m,{})})})},O=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())},p=n(4),x=n(5),w=n(8),I=n(7),M=function(e){return function(t){Object(w.a)(o,t);var n=Object(I.a)(o);function o(){var e;Object(p.a)(this,o);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).replaceItem=function(e,t){var n,o=null!==(n=localStorage.getItem(e))&&void 0!==n?n:"",i=JSON.parse(o),c=Object(d.a)(Object(d.a)({},i),t);localStorage.setItem(e,JSON.stringify(c))},e.updateItemsProp=function(t,n){Object.keys(t).forEach((function(o){var i=t[o];e.replaceItem(o,Object(a.a)({},n,i[n]))}))},e.saveItem=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.deleteItem=function(e){localStorage.removeItem(e)},e}return Object(x.a)(o,[{key:"render",value:function(){return Object(l.jsx)(e,Object(d.a)(Object(d.a)({},this.props),{},{storageReplaceItem:this.replaceItem,storageSaveItem:this.saveItem,storageDeleteItem:this.deleteItem,storageUpdateItemsProp:this.updateItemsProp}))}}]),o}(c.a.Component)},N=(n(21),n(22),M(function(e){Object(w.a)(n,e);var t=Object(I.a)(n);function n(e){var o;Object(p.a)(this,n),(o=t.call(this,e)).noteRef=void 0,o.resizeRef=void 0,o.onMouseDown=function(e){var t=o.props,n=t.setSelectedNoteId,i=t.noteId,c=o.noteRef.current;if(c){var r=c.getBoundingClientRect();o.setState({mouseNoteOffset:{x:e.pageX-r.left,y:e.pageY-r.top},zIndex:999,isResizeShown:!0}),document.addEventListener("mousemove",o.onMouseMove),document.addEventListener("mouseup",o.onMouseUp),n(i)}},o.onMouseMove=function(e){var t=o.state.mouseNoteOffset,n=o.noteRef.current;if(n){var i=n.getBoundingClientRect(),c=t.x,r=t.y,s=e.pageX-c,a=e.pageY-r;a<0?a=0:a+i.height>window.innerHeight&&(a=window.innerHeight-i.height),o.setState({position:{left:s,top:a}})}},o.onMouseUp=function(){document.removeEventListener("mousemove",o.onMouseMove),document.removeEventListener("mouseup",o.onMouseUp);var e=o.props,t=e.storageReplaceItem,n=e.moveNoteToFront,i=e.noteId;if(!o.deleteNoteIfNeeded()){var c=o.state.position;n(i),t&&t(i,c),o.setState({zIndex:1})}},o.onTextChange=function(e){var t=o.props,n=t.storageReplaceItem,i=t.noteId,c=e.currentTarget.value;o.setState({text:c}),n&&n(i,{text:c})},o.deleteNoteIfNeeded=function(){var e=o.props,t=e.noteId,n=e.deleteNote,i=o.noteRef.current,c=document.getElementsByClassName("trash")[0];return!(!i||!c)&&(!!function(e,t){var n=e.left,o=e.left+e.width,i=e.top,c=e.top+e.height,r=t.left,s=t.left+t.width,a=t.top,u=t.top+t.height;return!(n>s||o<r||i>u||c<a)}(i.getBoundingClientRect(),c.getBoundingClientRect())&&(n(t),!0))},o.onResizeMouseDown=function(e){o.setState({mouseNoteOffset:{x:e.pageX,y:e.pageY},zIndex:999}),document.addEventListener("mousemove",o.onResizeMouseMove),document.addEventListener("mouseup",o.onResizeMouseUp)},o.onResizeMouseMove=function(e){var t=o.state,n=t.mouseNoteOffset,i=t.initialWidth,c=t.initialHeight,r=n.x,s=n.y,a=i+(e.pageX-r),u=c+(e.pageY-s);h.minWidth&&a<h.minWidth&&(a=h.minWidth),h.minHeight&&u<h.minHeight&&(u=h.minHeight),o.setState({width:a,height:u})},o.onResizeMouseUp=function(){var e=o.state,t=e.width,n=e.height;document.removeEventListener("mousemove",o.onResizeMouseMove),document.removeEventListener("mouseup",o.onResizeMouseUp),o.setState({zIndex:1,initialWidth:t,initialHeight:n})},o.onDblClick=function(){o.setState({isEditMode:!0})};var c=e.note,r=c.left,s=c.top;return o.state={zIndex:1,text:c.text,position:{left:r,top:s},mouseNoteOffset:{x:0,y:0},observer:void 0,isResizeShown:!1,width:h.width,height:h.height,initialWidth:h.width,initialHeight:h.height,isEditMode:!1},o.noteRef=i.createRef(),o.resizeRef=i.createRef(),o}return Object(x.a)(n,[{key:"render",value:function(){var e=this.props.isSelected,t=this.state,n=t.position,o=t.zIndex,i=t.text,c=t.width,r=t.height,s=t.isEditMode;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"resize",ref:this.resizeRef,style:{left:n.left-10,top:n.top-10,opacity:e?1:0,width:c+20,height:r+30,zIndex:o},children:Object(l.jsx)("div",{className:"resize-corner",onMouseDown:this.onResizeMouseDown})}),Object(l.jsx)(f,{text:i,left:n.left,top:n.top,ref:this.noteRef,zIndex:o,width:c,height:r,isEditMode:s,onTextChange:this.onTextChange,onMouseDown:this.onMouseDown,onDblClick:this.onDblClick})]})}}]),n}(i.Component))),S=function(e){var t=e.items,n=e.moveNoteToFront,o=e.deleteNote,c=Object(i.useState)(""),r=Object(u.a)(c,2),s=r[0],a=r[1],d=Object(i.useCallback)((function(e){var t=e.target;if(t){var n=t.className;["note","resize-corner","resize"].includes(n)||a("")}}),[a]);return Object(i.useEffect)((function(){return document.addEventListener("click",d),function(){document.removeEventListener("click",d)}}),[]),Object(l.jsx)(l.Fragment,{children:Object.keys(t).map((function(e){return Object(l.jsx)(N,{note:t[e],noteId:e,moveNoteToFront:n,deleteNote:o,isSelected:s===e,setSelectedNoteId:a},e)}))})},z=function(e,t){var n=Object.keys(t),o=0;n.forEach((function(i,c){i===e&&(o=c,t[i].order=n.length-1),c>o&&(t[i].order=c-1)}))},C=M((function(e){var t=e.storageUpdateItemsProp,n=e.storageSaveItem,c=e.storageDeleteItem,r=Object(i.useState)({}),s=Object(u.a)(r,2),f=s[0],j=s[1],m=Object(i.useCallback)((function(){var e,t=Object.keys(f),o=(e=t.length,Object(d.a)(Object(d.a)({},h),{},{top:h.top+20*e,left:h.left+20*e,noteId:O(),order:e}));j(Object(d.a)(Object(d.a)({},f),{},Object(a.a)({},o.noteId,o))),n&&n(o.noteId,o)}),[f,n]),p=Object(i.useCallback)((function(e){var n=Object(d.a)({},f);z(e,n);var o=Object(d.a)({},n[e]);delete n[e];var i=Object(d.a)(Object(d.a)({},n),{},Object(a.a)({},e,o));j(i),t&&t(i,"order")}),[f,t]),x=Object(i.useCallback)((function(e){var t=Object(d.a)({},f);z(e,t),delete t[e];var n=Object(d.a)({},t);j(n),c&&c(e)}),[f,c]);return Object(i.useEffect)((function(){var e=Object.keys(localStorage).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(a.a)({},t,JSON.parse(localStorage[t])))}),{}),t=Object.keys(e).sort((function(t,n){return e[t].order-e[n].order})).reduce((function(t,n){return Object(d.a)(Object(d.a)({},t),{},Object(a.a)({},n,e[n]))}),{});return j(t),function(){localStorage.clear()}}),[]),Object(l.jsxs)("div",{className:"workspace",children:[Object(l.jsx)("header",{className:"header",children:"Sticky Notes"}),Object(l.jsx)(g,{onClick:m}),Object(l.jsx)(S,{items:f,moveNoteToFront:p,deleteNote:x}),Object(l.jsx)("div",{className:"trash",children:Object(l.jsx)(v,{className:"delete-button",icon:Object(l.jsx)(b,{}),size:o.L})})]})}));var R=function(){return Object(l.jsx)("div",{className:"app",children:Object(l.jsx)(C,{})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(R,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.3af33062.chunk.js.map